# State Migration

> 주의: EKS 환경에서 테스트하였습니다.

- cypress 기준 m5.4xlarge 에서 메모리가 부족합니다.
- m5.8xlarge에서 성공적으로 State Migration 하였습니다.
- 간헐적으로 블럭 동기화가 느려지는 경우가 발생하였습니다. (최대 1500 블럭)
- 약 10일 정도가 소요되었습니다.
- 용량은 300GB를 확보하였습니다.

개인적으로 State Migration을 직접 하는것보다.

스냅샷된 체인데이터를 받아서 새로 띄우는것이 비용, 시간적으로 좋습니다.

물론 새로 띄우는 과정에서 API를 정상적으로 사용하기 힘들 수 있습니다.

그래서 약간 불편하지만 생각한 방법이 띄워져있는 KEN1을 계속 사용하다 KEN2를 새로 띄우고 Load Balancer 에서

KEN2로 유도를 한뒤 KEN1번을 죽이는 방법으로 비교적 저렴하게 무중단을 구현할 수 있습니다.
